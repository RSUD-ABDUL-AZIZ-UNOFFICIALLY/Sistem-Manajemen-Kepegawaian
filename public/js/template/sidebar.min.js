async function profilepic() { const n = sessionStorage.getItem("img"); null == n ? await $.ajax({ url: "/api/getPic", method: "GET", success: function (n) { n && (sessionStorage.setItem("img", n.data.url), $("#imgUser").attr("src", n.data.url)) }, error: function (n) { console.log(n) } }) : $("#imgUser").attr("src", n) } function queryselec() { const n = location.href, a = document.querySelectorAll(".nav-link"), e = a.length; for (let s = 0; s < e; s++)a[s].href === n && (a[s].className = "nav-link active"); n.includes("profile") && $("#documen").addClass("menu-open"), (n.includes("cuti") || n.includes("aprovecuti")) && $("#cuti").addClass("menu-open"), (n.includes("daily") || n.includes("approvement") || n.includes("monthly") || n.includes("Report")) && $("#laporan").addClass("menu-open"), (n.includes("helpdeskadmin") || n.includes("contact")) && $("#admin").addClass("menu-open") } async function cekElemnet() { let n = sessionStorage.getItem("elemnet"); null == n && await $.ajax({ url: "/api/contact/menu", method: "GET", success: function (a) { n = encode(JSON.stringify(a.data)), sessionStorage.setItem("elemnet", n) } }), menuAkses(), queryselec() } function menuAkses() { let n = sessionStorage.getItem("elemnet"), a = JSON.parse(decode(n)), e = $('\n    <ul class="nav nav-treeview">\n      <li class="nav-item">\n        <a href="/aprovecuti" class="nav-link">\n         <i class="far fa-solid fa-bed nav-icon"></i>\n         <p>Persetujuan Cuti</p>\n        </a>\n      </li>\n    </ul>\n  '), s = $('\n  <li class="nav-item ">\n    <a href="/approvement" class="nav-link">\n        <i class="far fa-solid fa-file-contract nav-icon"></i>\n        <p>Persetujuan Laporan</p>\n    </a>\n  </li>  '), i = $('\n<li class="nav-item" id="admin" name="admin">\n                    <a href="#" class="nav-link">\n                        <i class="nav-icon fas fa-tachometer-alt"></i>\n                        <p>\n                            Menu Admin\n                            <i class="right fas fa-angle-left"></i>\n                        </p>\n                    </a>\n                    <ul class="nav nav-treeview"id="ul_admin" name="ul_admin" >\n                    </ul>\n</li>\n'), l = $('\n        <li class="nav-item">\n            <a href="/contact" class="nav-link">\n                <i class="far fa-regular fa-address-book nav-icon"></i>\n                <p>contact</p>\n            </a>\n        </li>\n    '), t = $('\n  <li class="nav-item">\n  <a href="/helpdeskadmin" class="nav-link">\n      <i class="far fa-solid fa-hand-holding-hand nav-icon"></i>\n      <p>Admin Helpdesk</p>\n  </a>\n</li>\n  '); 1 == a[0].bos && ($("#cuti").append(e), $("#ul_laporan").append(s)); let c = a[1].menu; c.includes("admin") && ($("#navbar").append(i), c.includes("contact") && $("#ul_admin").append(l), c.includes("helpdesk") && $("#ul_admin").append(t)), $("#navbar").append('\n<li class="nav-item" id="helpdesk" name="helpdesk">\n    <a href="/helpdesk" class="nav-link">\n        <i class="fa-solid fa-bug text-warning nav-icon"></i>\n        <p class="text">Helpdesk</p>\n    </a>\n</li>\n'), $("#navbar").append('\n<li class="nav-item">\n    <a href="/logout" class="nav-link">\n        <i class="fa-solid fa-right-from-bracket text-danger nav-icon"></i>\n        <p class="text">Logout</p>\n    </a>\n</li>\n    ') } profilepic(), cekElemnet();