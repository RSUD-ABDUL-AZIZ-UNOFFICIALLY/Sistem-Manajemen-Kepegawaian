const swal=Swal.mixin({customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1});$("form").on("submit",(function(event){event.preventDefault();const phone=$("#phone").val(),otp=$("#otp").val();phone.length<10?swal.fire({icon:"error",title:"Oops...",text:"Nomor Whatsapp minimal harus 10 karakter!"}):$.ajax({url:"/api/verify-otp",method:"POST",data:{phone:phone,otp:otp},success:function(response){swal.fire({icon:"success",title:response.message,text:"Anda telah berhasil masuk."}).then((()=>{window.location.href="/daily"}))},error:function(xhr,status,error){swal.fire({icon:"error",title:"Oops...",text:xhr.responseJSON.message})}})})),$("#send-otp").on("click",(function(){const phone=$("#phone").val();phone.length<10?swal.fire({icon:"error",title:"Oops...",text:"Nomor Whatsapp minimal harus 10 karakter!"}):($(this).prop("disabled",!0),setTimeout((function(){$("button").prop("disabled",!1)}),3e4),swal.fire({title:"Sedang mengirim OTP",allowOutsideClick:!1,onBeforeOpen:()=>{swal.showLoading()}}),$.ajax({url:"/api/send-otp",method:"POST",data:{phone:phone},success:function(response){swal.fire({icon:"success",title:"Success",text:response.message})},error:function(xhr,status,error){swal.fire({icon:"error",title:"Oops...",text:xhr.responseJSON.message})}}))})),sessionStorage.clear();
