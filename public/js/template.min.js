async function lihat(){$.ajax({url:"/api/template",method:"GET",success:function(t){$("#templateModalLabel").html("Lihat Template "+t.data.nama);try{$("#list-group").empty(),listTemplate(t.data.template)}catch(t){console.log(t),$("#list-group").empty()}},error:function(t){console.log(t)}}),$("#templateModal").modal("show")}function listTemplate(t){let a=$("#list-group");a.empty(),t.forEach((t=>{a.append('<li class="list-group-item list-group-item-action d-flex justify-content-between align-items-start" onclick="preview('+t.id+')"  id="'+t.id+'"><div class="ms-2 me-auto"><div class="fw-bold">'+t.kegiatan+"</div>"+t.satuan+'</div><button type="button" class="btn btn-danger btn-sm" onclick="hapus('+t.id+')"><i class="fa-regular fa-trash-can"></i></button></li>')}))}async function hapus(t){$.ajax({url:"/api/template?id="+t,method:"DELETE",success:function(t){Swal.fire({icon:"success",title:"Berhasil dihapus",showConfirmButton:!1,timer:1500})},error:function(t){console.log(t)}}),$("#"+t).remove()}async function simpan(){let t=parseInt($("#InputCompletion").val()),a=parseInt($("#InputVolume").val()),e={};e.kegiatan=$("#InputActivities").val(),e.satuan=$("#Unit").val(),!isNaN(t)&&(e.waktu=t),!isNaN(a)&&(e.volume=a),""!=$("#InputActivities").val()?$.ajax({url:"/api/template",method:"POST",data:e,success:function(t){Swal.fire({icon:"success",title:t.data.title})},error:function(t){Swal.fire({icon:"error",title:t.statusText}),console.log(t.responseJSON)}}):Swal.fire({icon:"warning",title:"Oops...",text:"Kegiatan kerja tidak boleh kosong!"})}async function preview(t){$.ajax({url:"/api/template?id="+t,method:"GET",success:function(t){try{addPreview(t.data)}catch(t){}}}),$("#templateModal").modal("hide")}function addPreview(t){$("#InputActivities").val(t.kegiatan),$("#InputVolume").val(t.volume),$("#Unit").val(t.satuan),$("#InputCompletion").val(t.waktu)}